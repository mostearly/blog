{"componentChunkName":"component---src-templates-post-index-tsx","path":"/post/nodejsreadline-biji-zhongduan-shuchu-bufen","result":{"data":{"markdownRemark":{"html":"<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 925px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2526ff12f157f774428eef9a08fc6ec2/8ec0a/wallhaven-dgzj9o.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.27705627705628%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAIDBAX/xAAWAQEBAQAAAAAAAAAAAAAAAAAAAQL/2gAMAwEAAhADEAAAAeS+ZloSGf/EABgQAAIDAAAAAAAAAAAAAAAAABARABIh/9oACAEBAAEFAntYgx//xAAXEQADAQAAAAAAAAAAAAAAAAABEBJB/9oACAEDAQE/AaGr/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAGRAAAwEBAQAAAAAAAAAAAAAAAAERMRBx/9oACAEBAAE/IUnkjRrd5U0rP//aAAwDAQACAAMAAAAQ5/8A/8QAFxEBAQEBAAAAAAAAAAAAAAAAAQARUf/aAAgBAwEBPxAwwSnL/8QAFhEAAwAAAAAAAAAAAAAAAAAAARAR/9oACAECAQE/EIV//8QAGxAAAwADAQEAAAAAAAAAAAAAAAERITFhUZH/2gAIAQEAAT8QgeFnGxJUPeqWBTCVRdOj+n//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/2526ff12f157f774428eef9a08fc6ec2/a42d1/wallhaven-dgzj9o.webp 231w,\n/static/2526ff12f157f774428eef9a08fc6ec2/a7d21/wallhaven-dgzj9o.webp 463w,\n/static/2526ff12f157f774428eef9a08fc6ec2/31b98/wallhaven-dgzj9o.webp 925w,\n/static/2526ff12f157f774428eef9a08fc6ec2/5c6e0/wallhaven-dgzj9o.webp 1388w,\n/static/2526ff12f157f774428eef9a08fc6ec2/62ac3/wallhaven-dgzj9o.webp 1850w,\n/static/2526ff12f157f774428eef9a08fc6ec2/5a003/wallhaven-dgzj9o.webp 2560w\"\n          sizes=\"(max-width: 925px) 100vw, 925px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/2526ff12f157f774428eef9a08fc6ec2/d4da3/wallhaven-dgzj9o.jpg 231w,\n/static/2526ff12f157f774428eef9a08fc6ec2/ecde2/wallhaven-dgzj9o.jpg 463w,\n/static/2526ff12f157f774428eef9a08fc6ec2/0ff56/wallhaven-dgzj9o.jpg 925w,\n/static/2526ff12f157f774428eef9a08fc6ec2/8d810/wallhaven-dgzj9o.jpg 1388w,\n/static/2526ff12f157f774428eef9a08fc6ec2/aa991/wallhaven-dgzj9o.jpg 1850w,\n/static/2526ff12f157f774428eef9a08fc6ec2/8ec0a/wallhaven-dgzj9o.jpg 2560w\"\n          sizes=\"(max-width: 925px) 100vw, 925px\"\n          type=\"image/jpeg\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/2526ff12f157f774428eef9a08fc6ec2/0ff56/wallhaven-dgzj9o.jpg\"\n          alt=\"wallhaven-dgzj9o.jpg\"\n          title=\"wallhaven-dgzj9o.jpg\"\n          loading=\"lazy\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        />\n      </picture>\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">wallhaven-dgzj9o.jpg</figcaption>\n  </figure></p>\n<h2>绘制（覆盖）机制</h2>\n<p>当程序结束终端输出目录时：如果光标的<code class=\"language-text\">dx</code>是<code class=\"language-text\">0</code>，将重绘光标<code class=\"language-text\">dy</code>所在行，<code class=\"language-text\">dx</code>大于<code class=\"language-text\">0</code>将重绘<code class=\"language-text\">dy</code>的下一行</p>\n<p>程序内使用<code class=\"language-text\">console</code>、<code class=\"language-text\">process.stdout.write</code>时：根据光标所在位置进行重绘</p>\n<p>中文字符占用两位，英文字符占用一位，可以使用<code class=\"language-text\">string-width</code>库计算</p>\n<p>不能删除现有的行，只能覆盖或者清空</p>\n<p>清空使用<code class=\"language-text\">readline.clearLine</code></p>\n<h2><code class=\"language-text\">moveCursor</code></h2>\n<p>说明：这是基于相对位置移动光标，相对于运行程序时所在行</p>\n<p>参数：<code class=\"language-text\">dx</code>, <code class=\"language-text\">dy</code></p>\n<ul>\n<li><code class=\"language-text\">dx</code> 【必填】横轴，从左向右</li>\n<li><code class=\"language-text\">dy</code> 【必填】竖轴，从下向上</li>\n</ul>\n<h2><code class=\"language-text\">cursorTo</code></h2>\n<p>参数：<code class=\"language-text\">dx</code>, <code class=\"language-text\">dy</code></p>\n<ul>\n<li><code class=\"language-text\">dx</code> 【必填】 同<code class=\"language-text\">moveCursor</code></li>\n<li><code class=\"language-text\">dy</code> 【可选】竖轴 基于终端的行</li>\n</ul>\n<h2><code class=\"language-text\">clearLine</code></h2>\n<p>清除光标所在行所有内容</p>\n<p>参数: <code class=\"language-text\">dir</code></p>\n<ul>\n<li>dir【必填】<code class=\"language-text\">0</code>清除整行，<code class=\"language-text\">-1</code>清除光标向左的内容，<code class=\"language-text\">1</code>清除光标向右的位置</li>\n</ul>","id":"9fdead64-a102-51f5-b65f-ecd30502b239","fields":{"title":"NodeJS readline笔记终端输出部分","tags":["NodeJS"],"category":"笔记","date":"2020-03-30T18:40:00+08:00","dateModified":"2020-05-06T17:22:12+08:00","slug":"/post/nodejsreadline-biji-zhongduan-shuchu-bufen","status":true,"comment":true},"excerpt":"…"}},"pageContext":{"slug":"/post/nodejsreadline-biji-zhongduan-shuchu-bufen","prev":{"slug":"/post/react-shiyong-hanshu-shi-zujian-shi-chuxian-de-wenti","title":"React使用函数式组件时出现的问题","date":"2020-03-21T16:56:18+08:00","category":"记录","tags":["React"],"type":"post"},"next":{"slug":"/post/kaifa-yige-zhongduan-dongtai-duohang-shuchu-de-gongju","title":"开发一个终端动态多行输出的工具","date":"2020-04-01T14:03:00+08:00","category":"记录","tags":["nodejs"],"type":"post"}}}}