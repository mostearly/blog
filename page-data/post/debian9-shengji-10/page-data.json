{"componentChunkName":"component---src-templates-post-index-tsx","path":"/post/debian9-shengji-10","result":{"data":{"markdownRemark":{"html":"<p>腾讯云的学生机到期了，重新购了一台服务器，然后选用了Debian，原因是Debian图标好看</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 925px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/63d8386f6cd4c7a472d72a4186d4971b/0f98f/wallhaven-0p93d9.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.27705627705628%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAECAwX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAB4jztIEH/xAAWEAEBAQAAAAAAAAAAAAAAAAABEAD/2gAIAQEAAQUCMwv/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAXEAEBAQEAAAAAAAAAAAAAAAABACEx/9oACAEBAAE/IeYST2Wb/9oADAMBAAIAAwAAABCf/wD/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAXEAEBAQEAAAAAAAAAAAAAAAABABEx/9oACAEBAAE/EGOM2Eh2QAMydk7f/9k='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/63d8386f6cd4c7a472d72a4186d4971b/a42d1/wallhaven-0p93d9.webp 231w,\n/static/63d8386f6cd4c7a472d72a4186d4971b/a7d21/wallhaven-0p93d9.webp 463w,\n/static/63d8386f6cd4c7a472d72a4186d4971b/31b98/wallhaven-0p93d9.webp 925w,\n/static/63d8386f6cd4c7a472d72a4186d4971b/5c6e0/wallhaven-0p93d9.webp 1388w,\n/static/63d8386f6cd4c7a472d72a4186d4971b/62ac3/wallhaven-0p93d9.webp 1850w,\n/static/63d8386f6cd4c7a472d72a4186d4971b/882b9/wallhaven-0p93d9.webp 1920w\"\n          sizes=\"(max-width: 925px) 100vw, 925px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/63d8386f6cd4c7a472d72a4186d4971b/d4da3/wallhaven-0p93d9.jpg 231w,\n/static/63d8386f6cd4c7a472d72a4186d4971b/ecde2/wallhaven-0p93d9.jpg 463w,\n/static/63d8386f6cd4c7a472d72a4186d4971b/0ff56/wallhaven-0p93d9.jpg 925w,\n/static/63d8386f6cd4c7a472d72a4186d4971b/8d810/wallhaven-0p93d9.jpg 1388w,\n/static/63d8386f6cd4c7a472d72a4186d4971b/aa991/wallhaven-0p93d9.jpg 1850w,\n/static/63d8386f6cd4c7a472d72a4186d4971b/0f98f/wallhaven-0p93d9.jpg 1920w\"\n          sizes=\"(max-width: 925px) 100vw, 925px\"\n          type=\"image/jpeg\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/63d8386f6cd4c7a472d72a4186d4971b/0ff56/wallhaven-0p93d9.jpg\"\n          alt=\"wallhaven-0p93d9\"\n          title=\"wallhaven-0p93d9\"\n          loading=\"lazy\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        />\n      </picture>\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">wallhaven-0p93d9</figcaption>\n  </figure></p>\n<h2>更新索引和软件免得出幺蛾子</h2>\n<p>更新软件索引</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-shell line-numbers\"><code class=\"language-shell\"><span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> update</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>更新本地所有软件</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-shell line-numbers\"><code class=\"language-shell\"><span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> full-upgrade</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>备份</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-shell line-numbers\"><code class=\"language-shell\"><span class=\"token function\">sudo</span> <span class=\"token function\">cp</span> /etc/apt/cources.list /etc/apt/scources.list.bak</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>切换 stretch 源到 buster 源</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-shell line-numbers\"><code class=\"language-shell\"><span class=\"token function\">sudo</span> <span class=\"token function\">sed</span> -i <span class=\"token string\">'s/stretch/buster/g'</span> /etc/apt/sources.list</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>更新索引</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-shell line-numbers\"><code class=\"language-shell\"><span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> update</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>升级 debian stretch 到 debian buster</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-shell line-numbers\"><code class=\"language-shell\"><span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> upgrade</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<h2>跨版本升级选择项</h2>\n<p>选择引导模式 Yes</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">If you choose this option, a system reboot will trigger a restart into a kernel loaded by kexec instead of going through the full system boot loader process</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>启用kdump-tool Yes</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">If you choose this option, the kdump-tools mechanism will be enabled. A reboot is still required in order to enable the crashkernel kernel parameter.</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>更新<code class=\"language-text\">libc</code> Yes</p>\n<p>更新<code class=\"language-text\">system.conf</code>Yes</p>\n<p>更新<code class=\"language-text\">bash.bashrc</code> Yes</p>\n<p>更新<code class=\"language-text\">sysctl.conf</code>Yes</p>\n<p>更新<code class=\"language-text\">logrotate.d/rsyslog</code>Yes</p>\n<p>更新<code class=\"language-text\">kdump-tools</code>配置文件 Yes</p>\n<p>更新<code class=\"language-text\">grub</code> Yes</p>\n<p>重启更新完成</p>","id":"f6ac356c-f5c9-5e13-8fcc-8ca823158c87","fields":{"title":"Debian 9升级10","tags":[],"category":"记录","date":"2019-12-22T20:51:00+08:00","dateModified":"2019-12-23T21:10:35+08:00","slug":"/post/debian9-shengji-10","status":true,"comment":true},"excerpt":"腾讯云的学生机到期了，重新购了一台服务器，然后选用了Debian，原因是Debian…"}},"pageContext":{"slug":"/post/debian9-shengji-10","prev":{"slug":"/post/windows-shezhi-dingshi-xiumian","title":"Windows设置定时休眠","date":"2019-10-30T13:48:00+08:00","category":"教程","tags":["Windows"],"type":"post"},"next":{"slug":"/post/shiyong-letsencrypt-shengcheng-fan-yuming-ssl","title":"使用let's encrypt生成泛域名SSL","date":"2019-12-23T19:11:00+08:00","category":"记录","tags":[],"type":"post"}}}}