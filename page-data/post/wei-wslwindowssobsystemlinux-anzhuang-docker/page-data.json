{"componentChunkName":"component---src-templates-post-index-tsx","path":"/post/wei-wslwindowssobsystemlinux-anzhuang-docker","result":{"data":{"markdownRemark":{"html":"<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 900px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4c805c924c7015082d389392904cd1af/8e1fc/wsl.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50.21645021645021%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIDBf/EABUBAQEAAAAAAAAAAAAAAAAAAAID/9oADAMBAAIQAxAAAAHFtB6TQAP/xAAaEAEAAQUAAAAAAAAAAAAAAAABEQACECEi/9oACAEBAAEFAjbeEYnmv//EABYRAAMAAAAAAAAAAAAAAAAAAAIQMf/aAAgBAwEBPwEqv//EABYRAAMAAAAAAAAAAAAAAAAAAAEQMf/aAAgBAgEBPwERf//EABYQAAMAAAAAAAAAAAAAAAAAAAARIP/aAAgBAQAGPwIc/wD/xAAaEAACAgMAAAAAAAAAAAAAAAABERAxACFR/9oACAEBAAE/IQQO5SkWqljuTcf/2gAMAwEAAgADAAAAEJAv/8QAFhEBAQEAAAAAAAAAAAAAAAAAERAh/9oACAEDAQE/EENn/8QAFhEBAQEAAAAAAAAAAAAAAAAAERAh/9oACAECAQE/ECsn/8QAGRABAAMBAQAAAAAAAAAAAAAAAQARIRBR/9oACAEBAAE/EN3S1ZAVMPEctNMY0iimLz//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/4c805c924c7015082d389392904cd1af/a42d1/wsl.webp 231w,\n/static/4c805c924c7015082d389392904cd1af/a7d21/wsl.webp 463w,\n/static/4c805c924c7015082d389392904cd1af/131f1/wsl.webp 900w\"\n          sizes=\"(max-width: 900px) 100vw, 900px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/4c805c924c7015082d389392904cd1af/d4da3/wsl.jpg 231w,\n/static/4c805c924c7015082d389392904cd1af/ecde2/wsl.jpg 463w,\n/static/4c805c924c7015082d389392904cd1af/8e1fc/wsl.jpg 900w\"\n          sizes=\"(max-width: 900px) 100vw, 900px\"\n          type=\"image/jpeg\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/4c805c924c7015082d389392904cd1af/8e1fc/wsl.jpg\"\n          alt=\"wsl image\"\n          title=\"wsl image\"\n          loading=\"lazy\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        />\n      </picture>\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">wsl image</figcaption>\n  </figure></p>\n<h1>为WSL(Windows sobsystem linux)安装Docker</h1>\n<p>注意：</p>\n<blockquote>\n<p>Windows10版本2004之前的版本都是WS1，之后的是WS2，目前可以通过进入Windows预览体验计划升级至2004，选择慢速即可以</p>\n</blockquote>\n<p>如果是WSL1则不能运行Docker，运行会看到以下报错</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">docker: Cannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running?.</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>该问题可以查看Medium上SebastianGomez的文章：<a href=\"https://medium.com/@sebagomez/installing-the-docker-client-on-ubuntus-windows-subsystem-for-linux-612b392a44c4\" target=\"_blank\" rel=\"noopener\">https://medium.com/@sebagomez/installing-the-docker-client-on-ubuntus-windows-subsystem-for-linux-612b392a44c4</a></p>\n<p>如果是WSL2直接运行也会报错 :狗头:</p>\n<p>无论WSL1还是2都需要Windows Docker</p>\n<h2>WS2安装配置Docker教程</h2>\n<p>安装Windows Docker</p>\n<p>在Docker菜单中，选择<strong>设置</strong> > <strong>常规</strong></p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 925px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/7c3d021d4303d95a5f43502b639406d8/ee9b6/image-20200313192213963.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 58.87445887445888%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAAB/0lEQVQoz22SS3LUMBCGfRcWKUIVSxZsKW7ADTgSRSWzYxFWuQiwJPGQxwyTiS3ZsmXJL8mTbP50yx7wVLL4Sq/W37+6FR0vDF6faqJ6xtGJxsfvFu+/GbxZVHj1VePDmcWnc4O3pwrvFgJHX2S4f3xS4PP5FtGvmxxL2SNmRBe4DPS4pL3rrMeVHPcu0vF8Oa2Xs9jfSYv4r0DUNh3azqFpO3S9Q0dz5zx2rodrGhodHrzH4/ASAx75zLsQ93N5j0hUnhzUuEo07rTDhpB2QKkNVusNsrxAURrkStNYQRU6wPNclahMTUY8GXL4EZNg1/XQfJgrVJWFo8OeYOeaRAu+XJQTGg3tz2nbPsTzyzIhWNChrlsoNV7oOh9EJTlNcotKV0G4pKQc591AJflPPxlgne19SjWkDCzGWNv8C6gpu8wU0lQio1GIDFLmgZzKwE/lBPXklAWTJB0dHhAEHWzjkRUm1ElxScg9z7mmmsT2gs1M8G6bINo7mlv31OU0a7C+uIGMl0jjP1DXt4GcMNSsVhVwfnf4ZBZ85pBgh6WlJ4gCgp8sFQw1jKk0Y0Z4TU4NwS6ThJriKcueebF3wy40gGvMTobhAQex7M5N4/R/ud6RkDJ8CWMsXeZa9CGA15o6zJ+cR/4BZanJkQ1nJTm9TQ3WmwSr1YrcJdSwDE/hoHYPconfEwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/7c3d021d4303d95a5f43502b639406d8/a42d1/image-20200313192213963.webp 231w,\n/static/7c3d021d4303d95a5f43502b639406d8/a7d21/image-20200313192213963.webp 463w,\n/static/7c3d021d4303d95a5f43502b639406d8/31b98/image-20200313192213963.webp 925w,\n/static/7c3d021d4303d95a5f43502b639406d8/e0a35/image-20200313192213963.webp 1041w\"\n          sizes=\"(max-width: 925px) 100vw, 925px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/7c3d021d4303d95a5f43502b639406d8/6e622/image-20200313192213963.png 231w,\n/static/7c3d021d4303d95a5f43502b639406d8/71ce0/image-20200313192213963.png 463w,\n/static/7c3d021d4303d95a5f43502b639406d8/2a50c/image-20200313192213963.png 925w,\n/static/7c3d021d4303d95a5f43502b639406d8/ee9b6/image-20200313192213963.png 1041w\"\n          sizes=\"(max-width: 925px) 100vw, 925px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/7c3d021d4303d95a5f43502b639406d8/2a50c/image-20200313192213963.png\"\n          alt=\"image-20200313192213963.png\"\n          title=\"image-20200313192213963.png\"\n          loading=\"lazy\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        />\n      </picture>\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">image-20200313192213963.png</figcaption>\n  </figure></p>\n<p>然后点击Apply &#x26; Restart</p>\n<p>重启完成后Windows应该会弹窗提醒你配置WSL，没有也没关系，在这里选择子系统</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 925px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/bd63684737da86b0766ad5b3a46e4b4c/00172/image-20200313192420944.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 58.87445887445888%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAAB2ElEQVQoz41RyW7TUBT177BoKZXYseADYMunlTbpig0LfgAJiU0rBokVAlQS2U1i18MbHPtNNh043GcnqrEiweLonHfne1/w6FTi8LTEwVRsILH3MsfDE4b9E4694wLPXgs8fSVwOOV4cFTgOb1fvGF4PMnwZJpg/yjDwYT8kwLBux8cb7/mOI8MziKNs5Cw0ecdDL6sDD4vTB9D/g+XGp8WxOT/GCmyqc73flYhuLYG11bjrrG4dRq/ib2+ay1+kb1RNRqt0BqNlvjWx7UON40jfc+ddgaBNg68cliyGpeZREY6qxoI1UDKEstVjPgqR5ykpK9QMAkh12C8hCxrKO1Qa9uxUhaBtVSAKYQXC/z8PscyTBBHKQQrsWIO3+YcivMuWPvEWqPeQCkDQwN5u+eqpoL+YY2FUxqCphHLGEZI+EaVqFCuUuisgNkkjeHztwVrP6Ex3uCwpjXSeYjkYoaaSxjbdEHWNZ3Wg+QhhhN6DrZCUsGMCYh1DePafyaPp/yroL8F51SMJqsqNQjaveZ9oS0GBYfdx3f5H/Qn6/P9YPTLDcZwtPIu+xj+tkr7W/f3dvSRQS4F8oJhva6og6Zu/fpb7XkXtNYoK42YWyRpgSgMMYsS/AEyqnvUpTMvoAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/bd63684737da86b0766ad5b3a46e4b4c/a42d1/image-20200313192420944.webp 231w,\n/static/bd63684737da86b0766ad5b3a46e4b4c/a7d21/image-20200313192420944.webp 463w,\n/static/bd63684737da86b0766ad5b3a46e4b4c/31b98/image-20200313192420944.webp 925w,\n/static/bd63684737da86b0766ad5b3a46e4b4c/bdcfb/image-20200313192420944.webp 1044w\"\n          sizes=\"(max-width: 925px) 100vw, 925px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/bd63684737da86b0766ad5b3a46e4b4c/6e622/image-20200313192420944.png 231w,\n/static/bd63684737da86b0766ad5b3a46e4b4c/71ce0/image-20200313192420944.png 463w,\n/static/bd63684737da86b0766ad5b3a46e4b4c/2a50c/image-20200313192420944.png 925w,\n/static/bd63684737da86b0766ad5b3a46e4b4c/00172/image-20200313192420944.png 1044w\"\n          sizes=\"(max-width: 925px) 100vw, 925px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/bd63684737da86b0766ad5b3a46e4b4c/2a50c/image-20200313192420944.png\"\n          alt=\"image-20200313192420944\"\n          title=\"image-20200313192420944\"\n          loading=\"lazy\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        />\n      </picture>\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">image-20200313192420944</figcaption>\n  </figure></p>\n<p>然后应用就可以了，现在将WSL升级到WSL 2，如果已经是这忽略这一步，系统版本必须在2004</p>\n<p>查看WSL子系统的版本</p>\n<div class=\"gatsby-highlight\" data-language=\"powershell\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-powershell line-numbers\"><code class=\"language-powershell\">wsl <span class=\"token operator\">-</span>l <span class=\"token operator\">-</span>v</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"powershell\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-powershell line-numbers\"><code class=\"language-powershell\">wsl <span class=\"token operator\">--</span><span class=\"token function\">set</span><span class=\"token operator\">-</span>version &lt;distro name> 2\n<span class=\"token comment\"># 输入wsl --help可以看到详细信息</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>现在进入WSL测试Docker</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">docker container run hello-world</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>输出Hello from Docker就成功了</p>","id":"8e7155f7-5c81-5403-b651-21a273506cc0","fields":{"title":"为WSL(Windows sobsystem linux)安装Docker","tags":[],"category":"记录","date":"2020-03-13T19:34:00+08:00","dateModified":"2020-03-25T20:53:28+08:00","slug":"/post/wei-wslwindowssobsystemlinux-anzhuang-docker","status":true,"comment":true},"excerpt":"为WSL(Windows sobsystem linux)安装Docker 注意： Windows…"}},"pageContext":{"slug":"/post/wei-wslwindowssobsystemlinux-anzhuang-docker","prev":{"slug":"/post/nodejs-dingshiqi-limian-de-ref-he-unref-fangfa","title":"NodeJS定时器里面的ref和unref方法","date":"2020-02-09T18:25:06+08:00","category":"笔记","tags":["NodeJS"],"type":"post"},"next":{"slug":"/post/wei-windows10wsl-shezhi-moren-yonghu","title":"为Windows10 WSL设置默认用户","date":"2020-03-13T21:51:00+08:00","category":"记录","tags":["WSL"],"type":"post"}}}}